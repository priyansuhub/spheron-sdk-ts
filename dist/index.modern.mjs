import t from"isomorphic-unfetch";import a from"axios";class e{constructor(t){this.apiKey=void 0,this.baseUrl=void 0,this.apiKey="Bearer "+t,this.baseUrl="https://api-v2.spheron.network"}async invoke(a){const e=`${this.baseUrl}${a}`,n={headers:{accept:"application/json",charset:"utf-8",authorization:this.apiKey}};return await t(e,n).then(async function(t){if(t.ok)return await t.json();throw new Error(t.statusText)})}async patchData(t,e){try{const{data:n}=await a.patch(`${this.baseUrl}${t}`,e,{headers:{accept:"application/json",charset:"utf-8",authorization:this.apiKey}});return n}catch(t){return t.message}}async putData(t,e){try{const{data:n}=await a.put(`${this.baseUrl}${t}`,e,{headers:{accept:"application/json",charset:"utf-8",authorization:this.apiKey}});return n}catch(t){return t.message}}async postData(t,e){try{const{data:n}=await a.post(`${this.baseUrl}${t}`,e,{headers:{accept:"application/json",charset:"utf-8",authorization:this.apiKey}});return n}catch(t){return t.response.data}}async deleteDataParam(t,e){try{const{data:n}=await a.delete(`${this.baseUrl}${t}`,{headers:{accept:"application/json",charset:"utf-8",authorization:this.apiKey},data:{userId:e}});return n}catch(t){return t.message}}async deleteData(t){try{const{data:e}=await a.delete(`${this.baseUrl}${t}`,{headers:{accept:"application/json",charset:"utf-8",authorization:this.apiKey}});return e}catch(t){return t.response.data}}async getData(t){try{const{data:e}=await a.get(`${this.baseUrl}${t}`,{headers:{accept:"application/json",charset:"utf-8",authorization:this.apiKey}});return e}catch(t){return t.message}}async patchDataEmpty(t){try{const{data:e}=await a.patch(`${this.baseUrl}${t}`,{headers:{accept:"application/json",charset:"utf-8",authorization:this.apiKey}});return e}catch(t){return t.message}}async postDataEmpty(t){try{const{data:e}=await a.post(`${this.baseUrl}${t}`,{headers:{accept:"application/json",charset:"utf-8",authorization:this.apiKey}});return e}catch(t){return t.message}}async getDataEmpty(t){try{const{data:e}=await a.post(`${this.baseUrl}${t}`,{headers:{accept:"application/json",charset:"utf-8",authorization:this.apiKey}});return e}catch(t){return t.message}}}function n(t,a){const e=t.users;for(let t=0;t<e.length;t++)if(e[t]._id===a)return e[t];return"Invalid User"}class r extends e{}var i;i=r,[class extends e{async getOrganisationId(){return await this.getData("/v1/api-keys/scope")}},class extends e{async getOrganizationDetails(t){return await this.getData(`/v1/organization/${t}`)}async getOrganizationUsers(t){return await this.getData(`/v1/organization/${t}`).then(t=>t.users)}async getOrganizationUserById(t,a){return await this.getData(`/v1/organization/${t}`).then(t=>n(t,a))}async getUserPlatformProfile(t,a){return await this.getData(`/v1/organization/${t}`).then(t=>n(t,a)).then(t=>t.platformProfile)}async getAllProviderProfilesOfUser(t,a){return await this.getData(`/v1/organization/${t}`).then(t=>n(t,a)).then(t=>t.providerProfiles)}async getProviderProfileOfUserById(t,a,e){return await this.getData(`/v1/organization/${t}`).then(t=>n(t,a)).then(t=>function(t,a){const e=t.providerProfiles;for(let t=0;t<e.length;t++)if(e[t].id===a)return e[t];return"Invalid Profile Id"}(t,e))}async getUserOrganisationsById(t,a){return await this.getData(`/v1/organization/${t}`).then(t=>n(t,a)).then(t=>t.organizations)}async getWalletDetails(t){return await this.getData(`/v1/organization/${t}`).then(t=>t.wallet)}async getWalletNetworkDetails(t){return await this.getData(`/v1/organization/${t}`).then(t=>t.wallet).then(t=>t.networkDetails)}async getWalletTokenDetails(t){return await this.getData(`/v1/organization/${t}`).then(t=>t.wallet).then(t=>t.tokenDetails)}async getAllInvitedMembers(t){return await this.getData(`/v1/organization/${t}`).then(t=>t.invitedMembers)}async getInvitedMembersById(t,a){return await this.getData(`/v1/organization/${t}`).then(t=>function(t,a){const e=t.invitedMembers;for(let t=0;t<e.length;t++)if(e[t]._id===a)return e[t];return"Invited Id Not found"}(t,a))}async overdueStatus(t){return await this.getData(`/v1/organization/${t}/overdue`)}},class extends e{async getProjectDetailsById(t){return await this.getData(`/v1/project/${t}`)}async getProjectDeploymentEnvironments(t){return await this.getData(`/v1/project/${t}`).then(t=>t.deploymentEnvironments)}async getConfigurationDetailsById(t){return await this.getData(`/v1/project/${t}`).then(t=>t.configuration)}async getAllDomainDetailsOfProject(t){return await this.getData(`/v1/project/${t}`).then(t=>t.domains)}async getDomainDetailsOfProjectByName(t,a){return await this.getData(`/v1/project/${t}`).then(t=>function(t,a){const e=t.domains;for(let t=0;t<e.length;t++)if(e[t].name===a)return e[t]}(t,a))}},class extends e{async getDeploymentInfoByProjectId(t){return await this.getData(`/v1/project/${t}/deployments`)}async getDeploymentInfoByProjectIdLimit(t,a){return await this.getData(`/v1/project/${t}/deployments`).then(t=>function(t,a){let e;if(a<t.length){for(let n;n<a;n++)e.push(t[n]);return e}return t}(t,a))}async getDeploymentInfoByProjectStatus(t,a){return await this.getData(`/v1/project/${t}/deployments`).then(t=>function(t,a){let e,n;for(;n<e.length;n++)t[n].status===a&&e.push(t[n]);return e}(t,a))}async getDeploymentCount(t){return await this.getData(`/v1/project/${t}/deployments/count`)}},class extends e{async updateState(t,a){const e={state:a};return await this.patchData(`/v1/project/${t}/state`,e)}},class extends e{async putConfiguration(t,a){return await this.putData(`/v1/project/${t}/configuration`,a)}},class extends e{async getProjectOrg(t){return await this.getData(`/v1/organization/${t}/projects`)}async getProjectCount(t){return await this.getData(`/v1/organization/${t}/projects/count`).then(t=>t.count)}},class extends e{async getCouponDetails(t){return await this.getData(`/v1/organization/${t}/coupons`)}},class extends e{async defaultDeployment(t,a,e,n,r,i,s){let o;return o.organizationId=t,o.gitUrl=a,o.repoName=e,o.uniqueTopicId=n,o.configuration.buildCommand="string",o.configuration.installCommand="string",o.configuration.workspace="string",o.configuration.publishDir="string",o.configuration.framework="static",o.configuration.nodeVersion="V_12",o.env={},o.protocol=r,o.createDefaultWebhook=!0,o.provider=i,o.branch=s,await this.postData("/v1/deployment/",o)}async getDeployment(t){return await this.getData(`/v1/deployment/${t}`)}async authorizeDeployment(t){return await this.postDataEmpty(`/v1/deployment/${t}/authorize`)}async cancelDeployment(t){return await this.postDataEmpty(`/v1/deployment/${t}/cancel`)}async redeployDeployment(t){return await this.postDataEmpty(`/v1/deployment/${t}/redeploy`)}},class extends e{async getDeploymentEnvironment(t){return await this.getData(`/v1/project/${t}/deployment-environments`)}async addDeploymentEnvironment(t,a,e,n){let r;return r.name=a,r.branches=e,r.protocol=n,await this.postData(`/v1/project/${t}/deployment-environments`,r)}async updateDeploymentEnvironmnet(t,a,e,n,r){let i;return i.name=e,i.branches=n,i.protocol=r,await this.putData(`/v1/project/${t}/deployment-environments/${a}`,i)}async deleteDeploymentEnvironmnet(t,a){return await this.deleteData(`/v1/project/${t}/deployment-environments/${a}`)}async activateDeploymentEnvironment(t,a){return await this.patchDataEmpty(`/v1/project/${t}/deployment-environments/${a}/activate`)}async deactivateDeploymentEnvironment(t,a){return await this.patchDataEmpty(`/v1/project/${t}/deployment-environments/${a}/deactivate`)}},class extends e{async addDomainByProjectId(t,a){return await this.postData(`/v1/project/${t}/domains`,a)}async updateDomainByProjectId(t,a,e){return await this.patchData(`/v1/project/${t}/domains/${a}`,e)}async deleteDomainByProjectId(t,a){return await this.deleteData(`/v1/project/${t}/domains/${a}`)}async verifyDomainByProjectId(t,a){return await this.patchDataEmpty(`/v1/project/${t}/domains/${a}/verify`)}},class extends e{async updateOrganizationProfileParams(t,a,e,n){const r={name:a,username:e,image:n};return await this.putData(`/v1/organization/${t}`,r)}async updateOrganizationProfile(t,a){return await this.putData(`/v1/organization/${t}`,a)}},class extends e{async getInvitesById(t){return await this.getData(`/v1/organization/${t}/invites`)}async inviteMembers(t,a){const e={userEmail:a};return await this.postData(`/v1/organization/${t}/invites`,e)}async deleteInvite(t,a){return await this.deleteData(`/v1/organization/${t}/invites/${a}`)}}].forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(a=>{Object.defineProperty(i.prototype,a,Object.getOwnPropertyDescriptor(t.prototype,a))})});export{r as default};
