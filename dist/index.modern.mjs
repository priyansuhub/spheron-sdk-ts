import t from"isomorphic-unfetch";function e(){return e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e.apply(this,arguments)}class r{constructor(t){this.apiKey=void 0,this.baseUrl=void 0,this.apiKey="Bearer "+t,this.baseUrl="https://api-v2.spheron.network"}invoke(r,n){const i=`${this.baseUrl}${r}`,o=e({},n,{headers:{accept:"application/json",charset:"utf-8",authorization:this.apiKey}});return t(i,o).then(t=>{if(t.ok)return t.json();throw new Error(t.statusText)})}}function n(t,e){let r=t.users;for(let t=0;t<r.length;t++)if(r[t]._id===e)return r[t];return"Invalid User"}class i extends r{}var o;o=i,[class extends r{getOrganisationId(){return this.invoke("/v1/api-keys/scope").then(t=>t.scope[0])}},class extends r{getOrganizationDetails(t){return this.invoke(`/v1/organization/${t}`)}getOrganizationUsers(t){return this.invoke(`/v1/organization/${t}`).then(t=>t.users)}getOrganizationUserById(t,e){return this.invoke(`/v1/organization/${t}`).then(t=>n(t,e))}getUserPlatformProfile(t,e){return this.invoke(`/v1/organization/${t}`).then(t=>n(t,e)).then(t=>t.platformProfile)}getAllProviderProfilesOfUser(t,e){return this.invoke(`/v1/organization/${t}`).then(t=>n(t,e)).then(t=>t.providerProfiles)}getProviderProfileOfUserById(t,e,r){return this.invoke(`/v1/organization/${t}`).then(t=>n(t,e)).then(t=>function(t,e){let r=t.providerProfiles;for(let t=0;t<r.length;t++)if(r[t].id===e)return r[t];return"Invalid Profile Id"}(t,r))}getUserOrganisationsById(t,e){return this.invoke(`/v1/organization/${t}`).then(t=>n(t,e)).then(t=>t.organizations)}getWalletDetails(t){return this.invoke(`/v1/organization/${t}`).then(t=>t.wallet)}}].forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(e=>{Object.defineProperty(o.prototype,e,Object.getOwnPropertyDescriptor(t.prototype,e))})});export{i as default};
