import t from"isomorphic-unfetch";import e from"axios";function n(){return n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n.apply(this,arguments)}class r{constructor(t){this.apiKey=void 0,this.baseUrl=void 0,this.apiKey="Bearer "+t,this.baseUrl="https://api-v2.spheron.network"}invoke(e,r){const i=`${this.baseUrl}${e}`,o=n({},r,{headers:{accept:"application/json",charset:"utf-8",authorization:this.apiKey}});return t(i,o).then(t=>{if(t.ok)return t.json();throw new Error(t.statusText)})}async patchData(t,n){try{const{data:r}=await e.patch(`${this.baseUrl}${t}`,n,{headers:{accept:"application/json",charset:"utf-8",authorization:this.apiKey}});return r}catch(t){return t.message}}async putData(t,n){try{const{data:r}=await e.put(`${this.baseUrl}${t}`,n,{headers:{accept:"application/json",charset:"utf-8",authorization:this.apiKey}});return r}catch(t){return t.message}}}function i(t,e){let n=t.users;for(let t=0;t<n.length;t++)if(n[t]._id===e)return n[t];return"Invalid User"}class o extends r{}var a;a=o,[class extends r{getOrganisationId(){return this.invoke("/v1/api-keys/scope").then(t=>t.scope[0])}},class extends r{getOrganizationDetails(t){return this.invoke(`/v1/organization/${t}`)}getOrganizationUsers(t){return this.invoke(`/v1/organization/${t}`).then(t=>t.users)}getOrganizationUserById(t,e){return this.invoke(`/v1/organization/${t}`).then(t=>i(t,e))}getUserPlatformProfile(t,e){return this.invoke(`/v1/organization/${t}`).then(t=>i(t,e)).then(t=>t.platformProfile)}getAllProviderProfilesOfUser(t,e){return this.invoke(`/v1/organization/${t}`).then(t=>i(t,e)).then(t=>t.providerProfiles)}getProviderProfileOfUserById(t,e,n){return this.invoke(`/v1/organization/${t}`).then(t=>i(t,e)).then(t=>function(t,e){let n=t.providerProfiles;for(let t=0;t<n.length;t++)if(n[t].id===e)return n[t];return"Invalid Profile Id"}(t,n))}getUserOrganisationsById(t,e){return this.invoke(`/v1/organization/${t}`).then(t=>i(t,e)).then(t=>t.organizations)}getWalletDetails(t){return this.invoke(`/v1/organization/${t}`).then(t=>t.wallet)}getWalletNetworkDetails(t){return this.invoke(`/v1/organization/${t}`).then(t=>t.wallet).then(t=>t.networkDetails)}getWalletTokenDetails(t){return this.invoke(`/v1/organization/${t}`).then(t=>t.wallet).then(t=>t.tokenDetails)}getAllInvitedMembers(t){return this.invoke(`/v1/organization/${t}`).then(t=>t.invitedMembers)}getInvitedMembersById(t,e){return this.invoke(`/v1/organization/${t}`).then(t=>function(t,e){let n=t.invitedMembers;for(let t=0;t<n.length;t++)if(n[t]._id==e)return n[t];return"Invited Id Not found"}(t,e))}},class extends r{getProjectDetailsById(t){return this.invoke(`/v1/project/${t}`)}getProjectDeploymentEnvironments(t){return this.invoke(`/v1/project/${t}`).then(t=>t.deploymentEnvironments)}getConfigurationDetailsById(t){return this.invoke(`/v1/project/${t}`).then(t=>t.configuration)}getAllDomainDetailsOfProject(t){return this.invoke(`/v1/project/${t}`).then(t=>t.domains)}getDomainDetailsOfProjectByName(t,e){return this.invoke(`/v1/project/${t}`).then(t=>function(t,e){let n=t.domains;for(let t=0;t<n.length;t++)if(n[t].name===e)return n[t]}(t,e))}},class extends r{getDeploymentInfoByProjectId(t){return this.invoke(`/v1/project/${t}/deployments`)}getDeploymentInfoByProjectIdLimit(t,e){return this.invoke(`/v1/project/${t}/deployments`).then(t=>function(t,e){let n;if(e<t.length){for(let r;r<e;r++)n.push(t[r]);return n}return t}(t,e))}getDeploymentInfoByProjectStatus(t,e){return this.invoke(`/v1/project/${t}/deployments`).then(t=>function(t,e){let n,r;for(;r<n.length;r++)t[r].status===e&&n.push(t[r]);return n}(t,e))}getDeploymentCount(t){return this.invoke(`/v1/project/${t}/deployments/count`)}},class extends r{updateState(t,e){return this.patchData(`/v1/project/${t}/state`,{state:e})}},class extends r{putConfiguration(t,e){return this.putData(`/v1/project/${t}/configuration`,e)}}].forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(e=>{Object.defineProperty(a.prototype,e,Object.getOwnPropertyDescriptor(t.prototype,e))})});export{o as default};
