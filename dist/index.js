var t=require("isomorphic-unfetch"),e=require("axios");function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=/*#__PURE__*/r(t),o=/*#__PURE__*/r(e);function i(){return i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i.apply(this,arguments)}function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,a(t,e)}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function u(t,e){try{var r=t()}catch(t){return e(t)}return r&&r.then?r.then(void 0,e):r}var s=/*#__PURE__*/function(){function t(t){this.apiKey=void 0,this.baseUrl=void 0,this.apiKey="Bearer "+t,this.baseUrl="https://api-v2.spheron.network"}var e=t.prototype;return e.invoke=function(t,e){try{var r=""+this.baseUrl+t,o=i({},e,{headers:{accept:"application/json",charset:"utf-8",authorization:this.apiKey}});return Promise.resolve(n.default(r,o).then(function(t){try{if(t.ok)return Promise.resolve(t.json());throw new Error(t.statusText)}catch(t){return Promise.reject(t)}}))}catch(t){return Promise.reject(t)}},e.patchData=function(t,e){try{var r=this;return Promise.resolve(u(function(){return Promise.resolve(o.default.patch(""+r.baseUrl+t,e,{headers:{accept:"application/json",charset:"utf-8",authorization:r.apiKey}})).then(function(t){return t.data})},function(t){return t.message}))}catch(t){return Promise.reject(t)}},e.putData=function(t,e){try{var r=this;return Promise.resolve(u(function(){return Promise.resolve(o.default.put(""+r.baseUrl+t,e,{headers:{accept:"application/json",charset:"utf-8",authorization:r.apiKey}})).then(function(t){return t.data})},function(t){return t.message}))}catch(t){return Promise.reject(t)}},e.postData=function(t,e){try{var r=this;return Promise.resolve(u(function(){return Promise.resolve(o.default.post(""+r.baseUrl+t,e,{headers:{accept:"application/json",charset:"utf-8",authorization:r.apiKey}})).then(function(t){return t.data})},function(t){return t.message}))}catch(t){return Promise.reject(t)}},e.deleteData=function(t){try{var e=this;return Promise.resolve(u(function(){return Promise.resolve(o.default.delete(""+e.baseUrl+t,{headers:{accept:"application/json",charset:"utf-8",authorization:e.apiKey}})).then(function(t){return t.data})},function(t){return t.message}))}catch(t){return Promise.reject(t)}},e.getData=function(t){try{var e=this;return Promise.resolve(u(function(){return Promise.resolve(o.default.get(""+e.baseUrl+t,{headers:{accept:"application/json",charset:"utf-8",authorization:e.apiKey}})).then(function(t){return t.data})},function(t){return t.message}))}catch(t){return Promise.reject(t)}},e.patchDataEmpty=function(t){try{var e=this;return Promise.resolve(u(function(){return Promise.resolve(o.default.patch(""+e.baseUrl+t,{headers:{accept:"application/json",charset:"utf-8",authorization:e.apiKey}})).then(function(t){return t.data})},function(t){return t.message}))}catch(t){return Promise.reject(t)}},e.postDataEmpty=function(t){try{var e=this;return Promise.resolve(u(function(){return Promise.resolve(o.default.post(""+e.baseUrl+t,{headers:{accept:"application/json",charset:"utf-8",authorization:e.apiKey}})).then(function(t){return t.data})},function(t){return t.message}))}catch(t){return Promise.reject(t)}},t}(),h=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}c(e,t);var r=e.prototype;return r.addDomainByProjectId=function(t,e){try{return Promise.resolve(this.postData("/v1/project/"+t+"/domains",e))}catch(t){return Promise.reject(t)}},r.updateDomainByProjectId=function(t,e,r){try{return Promise.resolve(this.patchData("/v1/project/"+t+"/domains/"+e,r))}catch(t){return Promise.reject(t)}},r.deleteDomainByProjectId=function(t,e){try{return Promise.resolve(this.deleteData("/v1/project/"+t+"/domains/"+e))}catch(t){return Promise.reject(t)}},r.verifyDomainByProjectId=function(t,e){try{return Promise.resolve(this.patchDataEmpty("/v1/project/"+t+"/domains/"+e+"/verify"))}catch(t){return Promise.reject(t)}},e}(s),p=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return c(e,t),e}(s),f=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}c(e,t);var r=e.prototype;return r.deployProject=function(t,e,r,n,o,i,c){try{var a;return a.organizationId=t,a.gitUrl=e,a.repoName=r,a.uniqueTopicId=n,a.configuration.buildCommand="string",a.configuration.installCommand="string",a.configuration.workspace="string",a.configuration.publishDir="string",a.configuration.framework="static",a.configuration.nodeVersion="V_12",a.env={},a.protocol=o,a.createDefaultWebhook=!0,a.provider=i,a.branch=c,Promise.resolve(this.postData("/v1/deployment/",a))}catch(t){return Promise.reject(t)}},r.getDeployment=function(t){try{return Promise.resolve(this.getData("/v1/deployment/"+t))}catch(t){return Promise.reject(t)}},r.authorizeDeployment=function(t){try{return Promise.resolve(this.postDataEmpty("/v1/deployment/"+t+"/authorize"))}catch(t){return Promise.reject(t)}},r.cancelDeployment=function(t){try{return Promise.resolve(this.postDataEmpty("/v1/deployment/"+t+"/authorize"))}catch(t){return Promise.reject(t)}},e}(s),m=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}c(e,t);var r=e.prototype;return r.getDeploymentEnvironment=function(t){try{return Promise.resolve(this.getData("/v1/project/"+t+"/deployment-environments"))}catch(t){return Promise.reject(t)}},r.addDeploymentEnvironment=function(t,e,r,n){try{var o;return o.name=e,o.branches=r,o.protocol=n,Promise.resolve(this.postData("/v1/project/"+t+"/deployment-environments",o))}catch(t){return Promise.reject(t)}},r.updateDeploymentEnvironmnet=function(t,e,r,n,o){try{var i;return i.name=r,i.branches=n,i.protocol=o,Promise.resolve(this.putData("/v1/project/"+t+"/deployment-environments/"+e,i))}catch(t){return Promise.reject(t)}},r.deleteDeploymentEnvironmnet=function(t,e){try{return Promise.resolve(this.deleteData("/v1/project/"+t+"/deployment-environments/"+e))}catch(t){return Promise.reject(t)}},r.activateDeploymentEnvironment=function(t,e){try{return Promise.resolve(this.patchDataEmpty("/v1/project/"+t+"/deployment-environments/"+e+"/activate"))}catch(t){return Promise.reject(t)}},r.deactivateDeploymentEnvironment=function(t,e){try{return Promise.resolve(this.patchDataEmpty("/v1/project/"+t+"/deployment-environments/"+e+"/deactivate"))}catch(t){return Promise.reject(t)}},e}(s);function l(t,e){for(var r=t.users,n=0;n<r.length;n++)if(r[n]._id===e)return r[n];return"Invalid User"}var v,y=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}c(e,t);var r=e.prototype;return r.getOrganizationDetails=function(t){try{return Promise.resolve(this.invoke("/v1/organization/"+t))}catch(t){return Promise.reject(t)}},r.getOrganizationUsers=function(t){try{return Promise.resolve(this.invoke("/v1/organization/"+t).then(function(t){return t.users}))}catch(t){return Promise.reject(t)}},r.getOrganizationUserById=function(t,e){try{return Promise.resolve(this.invoke("/v1/organization/"+t).then(function(t){return l(t,e)}))}catch(t){return Promise.reject(t)}},r.getUserPlatformProfile=function(t,e){try{return Promise.resolve(this.invoke("/v1/organization/"+t).then(function(t){return l(t,e)}).then(function(t){return t.platformProfile}))}catch(t){return Promise.reject(t)}},r.getAllProviderProfilesOfUser=function(t,e){try{return Promise.resolve(this.invoke("/v1/organization/"+t).then(function(t){return l(t,e)}).then(function(t){return t.providerProfiles}))}catch(t){return Promise.reject(t)}},r.getProviderProfileOfUserById=function(t,e,r){try{return Promise.resolve(this.invoke("/v1/organization/"+t).then(function(t){return l(t,e)}).then(function(t){return function(t,e){for(var r=t.providerProfiles,n=0;n<r.length;n++)if(r[n].id===e)return r[n];return"Invalid Profile Id"}(t,r)}))}catch(t){return Promise.reject(t)}},r.getUserOrganisationsById=function(t,e){try{return Promise.resolve(this.invoke("/v1/organization/"+t).then(function(t){return l(t,e)}).then(function(t){return t.organizations}))}catch(t){return Promise.reject(t)}},r.getWalletDetails=function(t){try{return Promise.resolve(this.invoke("/v1/organization/"+t).then(function(t){return t.wallet}))}catch(t){return Promise.reject(t)}},r.getWalletNetworkDetails=function(t){try{return Promise.resolve(this.invoke("/v1/organization/"+t).then(function(t){return t.wallet}).then(function(t){return t.networkDetails}))}catch(t){return Promise.reject(t)}},r.getWalletTokenDetails=function(t){try{return Promise.resolve(this.invoke("/v1/organization/"+t).then(function(t){return t.wallet}).then(function(t){return t.tokenDetails}))}catch(t){return Promise.reject(t)}},r.getAllInvitedMembers=function(t){try{return Promise.resolve(this.invoke("/v1/organization/"+t).then(function(t){return t.invitedMembers}))}catch(t){return Promise.reject(t)}},r.getInvitedMembersById=function(t,e){try{return Promise.resolve(this.invoke("/v1/organization/"+t).then(function(t){return function(t,e){for(var r=t.invitedMembers,n=0;n<r.length;n++)if(r[n]._id===e)return r[n];return"Invited Id Not found"}(t,e)}))}catch(t){return Promise.reject(t)}},e}(s),P=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return c(e,t),e.prototype.getProjectCount=function(t){try{return Promise.resolve(this.invoke("/v1/organization/"+t+"/projects/count").then(function(t){return t.count}))}catch(t){return Promise.reject(t)}},e}(s),d=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return c(e,t),e.prototype.putConfiguration=function(t,e){try{return Promise.resolve(this.putData("/v1/project/"+t+"/configuration",e))}catch(t){return Promise.reject(t)}},e}(s),j=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}c(e,t);var r=e.prototype;return r.getDeploymentInfoByProjectId=function(t){try{return Promise.resolve(this.invoke("/v1/project/"+t+"/deployments"))}catch(t){return Promise.reject(t)}},r.getDeploymentInfoByProjectIdLimit=function(t,e){try{return Promise.resolve(this.invoke("/v1/project/"+t+"/deployments").then(function(t){return function(t,e){var r;if(e<t.length){for(var n;n<e;n++)r.push(t[n]);return r}return t}(t,e)}))}catch(t){return Promise.reject(t)}},r.getDeploymentInfoByProjectStatus=function(t,e){try{return Promise.resolve(this.invoke("/v1/project/"+t+"/deployments").then(function(t){return function(t,e){for(var r,n;n<r.length;n++)t[n].status===e&&r.push(t[n]);return r}(t,e)}))}catch(t){return Promise.reject(t)}},r.getDeploymentCount=function(t){try{return Promise.resolve(this.invoke("/v1/project/"+t+"/deployments/count"))}catch(t){return Promise.reject(t)}},e}(s),g=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return c(e,t),e.prototype.updateState=function(t,e){try{return Promise.resolve(this.patchData("/v1/project/"+t+"/state",{state:e}))}catch(t){return Promise.reject(t)}},e}(s),D=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}c(e,t);var r=e.prototype;return r.getProjectDetailsById=function(t){try{return Promise.resolve(this.invoke("/v1/project/"+t))}catch(t){return Promise.reject(t)}},r.getProjectDeploymentEnvironments=function(t){try{return Promise.resolve(this.invoke("/v1/project/"+t).then(function(t){return t.deploymentEnvironments}))}catch(t){return Promise.reject(t)}},r.getConfigurationDetailsById=function(t){try{return Promise.resolve(this.invoke("/v1/project/"+t).then(function(t){return t.configuration}))}catch(t){return Promise.reject(t)}},r.getAllDomainDetailsOfProject=function(t){try{return Promise.resolve(this.invoke("/v1/project/"+t).then(function(t){return t.domains}))}catch(t){return Promise.reject(t)}},r.getDomainDetailsOfProjectByName=function(t,e){try{return Promise.resolve(this.invoke("/v1/project/"+t).then(function(t){return function(t,e){for(var r=t.domains,n=0;n<r.length;n++)if(r[n].name===e)return r[n]}(t,e)}))}catch(t){return Promise.reject(t)}},e}(s),k=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return c(e,t),e.prototype.getOrganisationId=function(){try{return Promise.resolve(this.invoke("/v1/api-keys/scope").then(function(t){return t.scope[0]}))}catch(t){return Promise.reject(t)}},e}(s),b=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return c(e,t),e}(s);v=b,[k,y,D,j,g,d,P,p,f,m,h].forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(e){Object.defineProperty(v.prototype,e,Object.getOwnPropertyDescriptor(t.prototype,e))})}),module.exports=b;
