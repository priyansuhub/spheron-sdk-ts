import t from"isomorphic-unfetch";import n from"axios";function e(){return e=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},e.apply(this,arguments)}function r(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,o(t,n)}function o(t,n){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},o(t,n)}function i(t,n){try{var e=t()}catch(t){return n(t)}return e&&e.then?e.then(void 0,n):e}var u=/*#__PURE__*/function(){function r(t){this.apiKey=void 0,this.baseUrl=void 0,this.apiKey="Bearer "+t,this.baseUrl="https://api-v2.spheron.network"}var o=r.prototype;return o.invoke=function(n,r){var o=""+this.baseUrl+n,i=e({},r,{headers:{accept:"application/json",charset:"utf-8",authorization:this.apiKey}});return t(o,i).then(function(t){if(t.ok)return t.json();throw new Error(t.statusText)})},o.patchData=function(t,e){try{var r=this;return Promise.resolve(i(function(){return Promise.resolve(n.patch(""+r.baseUrl+t,e,{headers:{accept:"application/json",charset:"utf-8",authorization:r.apiKey}})).then(function(t){return t.data})},function(t){return t.message}))}catch(t){return Promise.reject(t)}},o.putData=function(t,e){try{var r=this;return Promise.resolve(i(function(){return Promise.resolve(n.put(""+r.baseUrl+t,e,{headers:{accept:"application/json",charset:"utf-8",authorization:r.apiKey}})).then(function(t){return t.data})},function(t){return t.message}))}catch(t){return Promise.reject(t)}},r}();function a(t,n){for(var e=t.users,r=0;r<e.length;r++)if(e[r]._id===n)return e[r];return"Invalid User"}var c,s=/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}r(n,t);var e=n.prototype;return e.getOrganizationDetails=function(t){return this.invoke("/v1/organization/"+t)},e.getOrganizationUsers=function(t){return this.invoke("/v1/organization/"+t).then(function(t){return t.users})},e.getOrganizationUserById=function(t,n){return this.invoke("/v1/organization/"+t).then(function(t){return a(t,n)})},e.getUserPlatformProfile=function(t,n){return this.invoke("/v1/organization/"+t).then(function(t){return a(t,n)}).then(function(t){return t.platformProfile})},e.getAllProviderProfilesOfUser=function(t,n){return this.invoke("/v1/organization/"+t).then(function(t){return a(t,n)}).then(function(t){return t.providerProfiles})},e.getProviderProfileOfUserById=function(t,n,e){return this.invoke("/v1/organization/"+t).then(function(t){return a(t,n)}).then(function(t){return function(t,n){for(var e=t.providerProfiles,r=0;r<e.length;r++)if(e[r].id===n)return e[r];return"Invalid Profile Id"}(t,e)})},e.getUserOrganisationsById=function(t,n){return this.invoke("/v1/organization/"+t).then(function(t){return a(t,n)}).then(function(t){return t.organizations})},e.getWalletDetails=function(t){return this.invoke("/v1/organization/"+t).then(function(t){return t.wallet})},e.getWalletNetworkDetails=function(t){return this.invoke("/v1/organization/"+t).then(function(t){return t.wallet}).then(function(t){return t.networkDetails})},e.getWalletTokenDetails=function(t){return this.invoke("/v1/organization/"+t).then(function(t){return t.wallet}).then(function(t){return t.tokenDetails})},e.getAllInvitedMembers=function(t){return this.invoke("/v1/organization/"+t).then(function(t){return t.invitedMembers})},e.getInvitedMembersById=function(t,n){return this.invoke("/v1/organization/"+t).then(function(t){return function(t,n){for(var e=t.invitedMembers,r=0;r<e.length;r++)if(e[r]._id==n)return e[r];return"Invited Id Not found"}(t,n)})},n}(u),f=/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return r(n,t),n.prototype.putConfiguration=function(t,n){return this.putData("/v1/project/"+t+"/configuration",n)},n}(u),p=/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}r(n,t);var e=n.prototype;return e.getDeploymentInfoByProjectId=function(t){return this.invoke("/v1/project/"+t+"/deployments")},e.getDeploymentInfoByProjectIdLimit=function(t,n){return this.invoke("/v1/project/"+t+"/deployments").then(function(t){return function(t,n){var e;if(n<t.length){for(var r;r<n;r++)e.push(t[r]);return e}return t}(t,n)})},e.getDeploymentInfoByProjectStatus=function(t,n){return this.invoke("/v1/project/"+t+"/deployments").then(function(t){return function(t,n){for(var e,r;r<e.length;r++)t[r].status===n&&e.push(t[r]);return e}(t,n)})},e.getDeploymentCount=function(t){return this.invoke("/v1/project/"+t+"/deployments/count")},n}(u),h=/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}r(n,t);var e=n.prototype;return e.getProjectDetailsById=function(t){return this.invoke("/v1/project/"+t)},e.getProjectDeploymentEnvironments=function(t){return this.invoke("/v1/project/"+t).then(function(t){return t.deploymentEnvironments})},e.getConfigurationDetailsById=function(t){return this.invoke("/v1/project/"+t).then(function(t){return t.configuration})},e.getAllDomainDetailsOfProject=function(t){return this.invoke("/v1/project/"+t).then(function(t){return t.domains})},e.getDomainDetailsOfProjectByName=function(t,n){return this.invoke("/v1/project/"+t).then(function(t){return function(t,n){for(var e=t.domains,r=0;r<e.length;r++)if(e[r].name===n)return e[r]}(t,n)})},n}(u),v=/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return r(n,t),n.prototype.updateState=function(t,n){return this.patchData("/v1/project/"+t+"/state",{state:n})},n}(u),l=/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return r(n,t),n.prototype.getOrganisationId=function(){return this.invoke("/v1/api-keys/scope").then(function(t){return t.scope[0]})},n}(u),g=/*#__PURE__*/function(t){function n(){return t.apply(this,arguments)||this}return r(n,t),n}(u);c=g,[l,s,h,p,v,f].forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(n){Object.defineProperty(c.prototype,n,Object.getOwnPropertyDescriptor(t.prototype,n))})});export{g as default};
